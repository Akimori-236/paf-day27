<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Day27: Comments</title>
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
            integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
            crossorigin="anonymous"
        />
    </head>
    <body class="container">
        <a data-th-href="@{${game.url}}">
            <h1 data-th-text="${game.name}"></h1>
            <img data-th-src="${game.image}" alt="" />
        </a>

        <div>
            <span>Average Rating: </span>
            <span data-th-text="${rating}"></span>
        </div>
        <!-- comments table-->
        <table class="table table-bordered table-responsive-sm">
            <tr data-th-each="com : ${commentList}">
                <td data-th-text="${com.user}"></td>
                <td data-th-text="${com.rating}"></td>
                <td data-th-text="${com.c_text}"></td>
            </tr>
        </table>
        <div>
            <h3>Add Comment</h3>
            <form
                method="POST"
                class="form"
                data-th-action="@{'/game/' + ${game.gid}}"
            >
                <table>
                    <tr>
                        <td><label for="userID">Name: </label></td>
                        <td><input type="text" name="user" id="userID" /></td>
                    </tr>
                    <tr>
                        <td><label for="ratingID">Rating: </label></td>
                        <td class="range">
                            <input
                                class="form-range"
                                type="range"
                                min="1"
                                max="10"
                                step="1"
                                name="rating"
                                id="ratingID"
                            />
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <textarea
                                name="c_text"
                                id="commentID"
                                cols="25"
                                rows="3"
                            ></textarea>
                        </td>
                    </tr>
                </table>

                <button class="btn btn-outline-success" type="submit">
                    Submit Comment
                </button>
            </form>
        </div>
    </body>
</html>
